title: Bundle Adjustment in the Large
date: 2016-08-09 19:04:03
categories: Translation
tags: [computer vision]
---
> **Abstract.** 我们展示了设计和应用针对成千上万张图像的大规模BA问题，提出了一种新的不精确性牛顿方法。我们探索了利用共轭梯度求解牛顿法和它的性能作为一些简单且计算高效的预条件子的函数。我们显示普通的Schur complement trick并不局限于基于因式分解的方法，他也可以演绎为一种预处理的形式。利用街景图像数据集和若干社交图像集，我们产生了各种各样的BA问题，利用它们去评估了六种不同BA算法的性能。我们的实验表明，不精确性牛顿法，结合一些相对简单地预条件子时，在处理大规模的BA时，会带来最优的性能。相关代码、测试用例和具体的评测数据都可以在[http://grail.cs.washington.edu/projects/bal](http://grail.cs.washington.edu/projects/bal)上获取到。

<!--more-->

> **Key words:** Structure from Motion, Bundle Adjustment, Preconditioned Conjugate Gradients

---

### **1 Introduction**
　　近年来在Structure from Motion(SfM)的相关研究表明了从大规模的社交照片集中重建几何信息的可能性[1-3]。Bundle adjustment(BA),结合相机和点参数的非线性优化，是大多数SfM的关键一步，而且在大规模场景中消耗了大量的时间。随着在这种数据集中的照片数量持续增加到成千上百张甚至百万张，BA算法的可伸缩性成为了决定性的问题。

　　BA问题的基本数学原理是很容易被理解的[4],而且目前也存在一个免费可用的高质量应用——SBA[5]。SBA是基于对reduced相机矩阵进行稠密的Cholesky分解,它具有O(n2)的空间复杂度和O(n3)的时间复杂度。它可以很好地解决只具有几百张图像的小规模问题，但对于成千上万张图像，它的代价显得过于昂贵。

---

![Fig.1](/img/figure1-baitl.png)

　　除了文献[6-8,1,9]做过一些贡献以外，大规模BA算法的发展在计算机视觉领域还没有受到过明显的关注。我们相信这是因为直到现在大规模的SfM问题的主要来源一直是视频和结构化的数据集，比如街景级别的图像和航空影像。对于这些数据集，连接图——例如，图中每张照片是一个节点，如果两张照片存在公共的区域则表明两者是联通的——是极其稀疏的，大多数具有一个大直径的带状对角矩阵结构。例如，在架设在一个汽车沿着道路前行的相机所获取的照片数据，即使只有几秒的间隔，相邻图片也几乎没有重叠区域。Figure1(a)显示了这样的一个图结构。因此，那些集中于重建中最近被修改的部分来减少BA问题的尺寸是相当高效的[7,6]。

　　社交图像集的连通图是很少有结构性的，有一个明显更小的直径，因为它们倾向于展现最受欢迎的地标，而不是一个长的、扩展性的视野序列。Figure 1(b显示了从Flickr下载来的Dubrovnik城市的照片集合的图结构。Figure 1(a)中的数据集具有结构性，它具有一个带状对角结构，98%的稀疏度，相比而言，Dubrovnik的图结构则仅有84%的稀疏度，具有一个明显更复杂的结构。这也意味着，即使Figure 1(a)中的数据集比Figure 1(b)多了基于1800张图片，但是前者求解其缩减的相机矩阵的稀疏分解比后者要少耗费40X的时间。

　　在这篇论文中，我们展示了一种新的不精确性牛顿法BA算法的设计和实现，利用了明显更少的时间和内存相比标准的基于Schur complement的算法，并且并没有损失求解质精度。我们探索了利用共轭梯度算法求解牛顿类型和它作为一些简单而且计算高效的预条件子的函数的性能。我们也显示了Schur complement并不局限于基于因式分解的方法，它是如何用于部分共轭梯度算法，而且事实上在内存中计算和存储它时，并不会带来计算代价，以及它时怎样等同于一个特定的预条件子的。

　　我们进行了大量的实验在结构性和非结构性的各种各样的问题复杂度的数据集上，也提供了基于这些实验的推荐。这篇文章中相关代码、测试用例和具体的性能测试结果都可以在[http://grail.cs.washington.edu/projects/bal](http://grail.cs.washington.edu/projects/bal)上获取到。

　　论文的其余部分的组织结构如下。在Section 2，我们简短地回顾了一些通用的非线性最小二乘问题，Levenberg Marquardt(LM)算法和Schur complement trick。在Section 3，我们介绍了非精确性LM算法。在Section 4，我们讨论了预处理共轭梯度（Conjugate Gradients, CG)算法的各种方法。在Section 5，我们则报告了进行的实验结果。在Section 6我们进行了最后的总结和讨论。

---

### **2 Bundle Adjustment**
